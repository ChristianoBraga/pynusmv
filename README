PyNuSMV is a Python binding for NuSMV. It is intended to provide a Python interface to NuSMV, allowing to use NuSMV as a library.

More details about PyNuSMV are provided in the NOTES file.

-----
BUILD
-----

Dependencies
------------

In addition to tools needed by NuSMV to compile and run, PyNuSMV needs the following tools:

Python version 3.2 or higher -- http://python.org/
SWIG version 2.0.6 or higher -- http://www.swig.org/

Some tools provided with PyNuSMV in the tools/ directory also need the following libraries:

pyparsing version 1.5.6 or higher -- http://pyparsing.wikispaces.com/


SWIG and pyparsing are provided in this package in the dep/ directory.



Build
-----

To build PyNuSMV, you can just use the provided Makefiles:

make


These Makefiles accept arguments:
    - PYTHON3 defines the Python 3 command. By default, `python3` is used.
    - SWIG defines the SWIG command. By default, if `swig` exists, it is used, otherwise, SWIG is compiled with the given sources; if this argument is not empty, it is used as the `swig` command.
    - PYPARSING defines the PyParsing file. By default, PyParsing is searched, if found it is used, otherwise it is extracted from the given sources; if PYPARSING is set to something different from 0, the file is taken from the given sources even if PyParsing is already installed.
      
For example, if you want to use `python3.2` instead of `python3` and to compile
SWIG from sources even if you have SWIG, you can use:

make PYTHON3=python3.2 SWIG=


PyNuSMV is then located into src/pynusmv directory.


If you want more control on the different steps of the building, you can follow these instructions:

First compile NuSMV:

# Compile CUDD
cd src/cudd-2.4.1.1
make # use platform-specific makefile if needed e.g. make -f Makefile_os_x_64bit

# Compile NuSMV
cd ../nusmv
./configure
make
cd ..

Then, you can build PyNuSMV by running:
./build_libnusmv.sh
python setup.py build_ext --inplace


Problems
--------

On Mac OS X, an error can occur when compiling NuSMV sources when embedding no SAT solver:

/bin/sh ../../../libtool --tag=CC   --mode=link gcc -std=gnu99  -fno-strict-aliasing -g -O2   -o libsatsolvers.la -lm 
libtool: link: ar cru .libs/libsatsolvers.a 
ar: no archive members specified
usage:  ar -d [-TLsv] archive file ...
	ar -m [-TLsv] archive file ...
	ar -m [-abiTLsv] position archive file ...
	ar -p [-TLsv] archive [file ...]
	ar -q [-cTLsv] archive file ...
	ar -r [-cuTLsv] archive file ...
	ar -r [-abciuTLsv] position archive file ...
	ar -t [-TLsv] archive [file ...]
	ar -x [-ouTLsv] archive [file ...]


To avoid this error, modify
    src/nusmv/src/sat/Makefile:
        line 85: libsat_la_DEPENDENCIES = 
        line 343: libsat_la_LIBADD = 
    src/nusmv/src/sat/solvers/Makefile:
        line 322: noinst_LTLIBRARIES =


-------------
DOCUMENTATION
-------------

No documentation of PyNuSMV is currently provided. To get more insight, read the (documented) Python code.


-------
CONTENT
-------

This package contains
- this README file;
- NOTES file : notes about PyNuSMV details;
- LGPL-2.1 : a copy of the LGPLv2 License;
- TOOLS : notes about the tools provided with PyNuSMV;
- dep/ : a directory containing some tools on which PyNuSMV depends;
- src/ : PyNuSMV sources

    - build_libnusmv.sh : NuSMV shared library building script;
    - setup.py : PyNuSMV compilation file;

    - cudd-2.4.1.1/ : CUDD sources, needed by NuSMV;
    - nusmv/ : NuSMV sources;
    - MiniSat/ : MiniSat directory for NuSMV;
    - zchaff/ : zChaff directory for NuSMV;
    
    - pynusmv/ : PyNuSMV sources;
    - tools/ : PyNuSMV-based tools;
    - tests/ : PyNuSMV and PyNuSMV-based tools unit tests.
	
	
---------
COPYRIGHT
---------

PyNuSMV is licensed under the GNU Lesser General Public License (LGPL in short). File LGPL-2.1 contains a copy of the License.


-------
CREDITS
-------

PyNuSMV is maintained and distributed by the LVL Group at Universit√© catholique de Louvain.  Please contact <lvl at listes dot uclouvain dot be> for any question regarding this software distribution.

NuSMV is a symbolic model checker developed as a joint project between several partners and distributed under the GNU LGPL license. Please contact <nusmv at fbk dot eu> for getting in touch with the NuSMV development staff.